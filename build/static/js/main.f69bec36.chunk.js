(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var i,n=a(0),s=a.n(n),r=a(7),o=a.n(r),l=a(1),c=a(2),m=a(4),d=a(3),p=a(5),u=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"sidebar"},s.a.createElement("div",{className:"sidebar__header"},s.a.createElement("h1",{className:"sidebar__title"},"Squad builder")),s.a.createElement("div",{className:"sidebar__content"},s.a.createElement("div",{className:"rating"},s.a.createElement("h2",{className:"rating__title"},"Overall rating"),s.a.createElement("span",{className:"rating__total"},this.props.rating))),s.a.createElement("div",{className:"sidebar__footer"},s.a.createElement("div",{className:"btn btn--red btn--big",onClick:this.props.clear()},"Clear formation")))}}]),t}(n.Component),h=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={result:[]},a.liveSearch=function(e){var t=e.target.value;clearTimeout(i),i=setTimeout(function(){void 0!==t&&t.length>0?a.fetchPlayerFromAPI(t):a.clearResult()},300)},a.fetchPlayerFromAPI=function(e){fetch("http://localhost:8080/player/"+e,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.setState({result:a.filterResult(e)})})},a.filterResult=function(e){var t=[];if(e.items.length>0)for(var a=0;a<10;a++)t.push(e.items[a]);return t},a.clearResult=function(){a.setState({result:[]})},a.resetSearch=function(){a.clearResult(),document.getElementById("liveSearch").value=""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:"form",onSubmit:function(e){return e.preventDefault()}},s.a.createElement("input",{id:"liveSearch",type:"text",className:"form__input form__input--text",value:this.state.name,onKeyUp:function(t){return e.liveSearch(t)},placeholder:"Enter a player name here"}),s.a.createElement("ul",{className:void 0===this.state.result?"suggestion suggestion--visible":"suggestion"},s.a.createElement(f,{data:this.state.result,addPlayer:function(t){return e.props.addPlayer(e.state.result[t])},reset:function(){return e.resetSearch()}})))}}]),t}(n.Component),f=function(e){var t=e.data,a=[];if(void 0!==t){var i=function(i){if(t.hasOwnProperty(i)&&void 0!==t[i]){var n=t[i].name,r=t[i].rating,o=t[i].position,l=t[i].headshot.imgUrl;a.push(s.a.createElement(C,{key:i,id:i,name:n,rating:r,headshot:l,position:o,addPlayer:function(){return e.addPlayer(i)},reset:function(){return e.reset()}}))}};for(var n in t)i(n)}return a},C=function(e){return s.a.createElement("li",{className:"player player--suggestion",onClick:function(){return e.addPlayer(),void e.reset()}},s.a.createElement("div",{className:"player__media player__media--small"},s.a.createElement("img",{className:"player__image",src:e.headshot,alt:""})),s.a.createElement("div",{className:"player__name player__name--large"},"(",e.rating,") ",e.name," | ",e.position))},y=h,R=function(e){return s.a.createElement("div",{className:"modal",style:{display:e.show?"block":"none"}},s.a.createElement("div",{className:"modal__bg"}),s.a.createElement("div",{className:"modal__dialog"},s.a.createElement("div",{className:"modal__content"},s.a.createElement("div",{className:"modal__header"},s.a.createElement("i",{onClick:e.close,className:"modal__close-btn fa fa-times"}),s.a.createElement("p",{className:"modal__title"},"Pick a player")),s.a.createElement("div",{className:"modal__body"},s.a.createElement(y,{addPlayer:function(t){return e.addPlayer(t)}})))))},g=[{key:0,position:"GK"},{key:1,position:"LB"},{key:2,position:"CB"},{key:3,position:"CB"},{key:4,position:"RB"},{key:5,position:"CM"},{key:6,position:"CM"},{key:7,position:"CM"},{key:8,position:"LW"},{key:9,position:"ST"},{key:10,position:"RW"}],M={amountOfPositions:11,highPenalty:.1,mediumPenalty:.5,lowPenalty:.8,noPenalty:1},P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).selectPosition=function(e){a.setState({isShowing:!0,selectedPosition:e})},a.closeModalHandler=function(){a.setState({isShowing:!1,selectedPosition:null})},a.getPosition=function(e){return s.a.createElement(L,{id:e,positionData:g[e],selectPosition:function(){return a.selectPosition(e)},playerData:a.props.selectedPositions[e],getPositionPenalty:function(e,t){return a.props.getPositionPenalty(e,t)}})},a.addPlayer=function(e){a.props.selectedPositions[a.state.selectedPosition]=e,a.props.update(a.props.selectedPositions),a.closeModalHandler()},a.state={isShowing:!1,selectedPosition:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"field__line field__line--forward"},this.getPosition(10),this.getPosition(9),this.getPosition(8)),s.a.createElement("div",{className:"field__line field__line--midfield"},this.getPosition(7),this.getPosition(6),this.getPosition(5)),s.a.createElement("div",{className:"field__line field__line--defense"},this.getPosition(4),this.getPosition(3),this.getPosition(2),this.getPosition(1)),s.a.createElement("div",{className:"field__line  field__line--goal"},this.getPosition(0)),s.a.createElement(R,{show:this.state.isShowing,close:this.closeModalHandler,addPlayer:function(t){return e.addPlayer(t)}}))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).positionIsSelected=function(){return void 0!==a.props.playerData&&0!==a.props.playerData},a.printPlayerCard=function(){return s.a.createElement("div",{className:"player player--card",onClick:function(){return a.props.selectPosition(a.props.id)}},s.a.createElement("span",{className:"player__position"},"(",a.props.playerData.position,")"),s.a.createElement("div",{className:"player__media"},s.a.createElement("img",{className:"player__image",src:a.props.playerData.headshot.imgUrl,alt:a.props.playerData.name})),s.a.createElement("span",{className:"player__rating"},a.props.playerData.rating),s.a.createElement("span",{className:"player__name"},a.props.playerData.name),s.a.createElement("span",{className:a.getPlayerPositionClass()},"(",a.props.positionData.position,")"))},a.printPlaceholderCard=function(){return s.a.createElement("div",{className:"player player--placeholder player--card",onClick:function(){return a.props.selectPosition(a.props.id)}},s.a.createElement("span",{className:"player__card-pos"},a.props.positionData.position))},a.getPositionOrPlayerData=function(){return a.positionIsSelected()?a.printPlayerCard():a.printPlaceholderCard()},a.getPlayerPositionClass=function(){var e=a.props.playerData.position,t=a.props.positionData.position,i=a.props.getPositionPenalty(e,t);return i===M.highPenalty?"player__card-pos player__card-pos--red":i===M.mediumPenalty?"player__card-pos player__card-pos--orange":"player__card-pos player__card-pos--green"},a.state={modalIsOpen:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.getPositionOrPlayerData()}}]),t}(s.a.Component),B=P,_={GK:{name:"Goalkeeper",penalties:{low:[],medium:[],high:["LWB","LB","CB","RB","RWB","LF","CF","RF","ST","LM","LW","CAM","CM","CDM","RM","RW"]}},LWB:{name:"Left wing back",penalties:{low:["CB","LM","RB","RWB"],medium:["LW"],high:["GK","LF","CF","RF","ST","LM","CAM","CM","CDM","RM","RW"]}},LB:{name:"Left back",penalties:{low:["CB","LM","RB","RWB"],medium:[],high:["GK","LF","CF","RF","ST","LM","LW","CAM","CM","CDM","RM","RW"]}},CB:{name:"Centre back",penalties:{low:["LB","RB","CDM"],medium:["CM","LWB","RWB"],high:["GK","LF","CF","RF","ST","LM","LW","CAM","RM","RW"]}},RWB:{name:"Right wing back",penalties:{low:["CB","RM","LB","LWB"],medium:["RW"],high:["GK","LF","CF","RF","ST","LM","CAM","CM","CDM","RM","RW"]}},RB:{name:"Right back",penalties:{low:["CB","RM","LB","LWB"],medium:[],high:["GK","LF","CF","RF","ST","LM","LW","CAM","CM","CDM","RM","RW"]}},LF:{name:"Left forward",penalties:{low:["RF","ST","LM","LW"],medium:["CF"],high:["GK","LWB","LB","CB","RB","RWB","CAM","CM","CDM","RM","RW"]}},CF:{name:"Centre forward",penalties:{low:["ST","LF","RF","CAM"],medium:["CM"],high:["GK","LWB","LB","CB","RB","RWB","LM","LW","CDM","RM","RW"]}},RF:{name:"Right forward",penalties:{low:["LF","ST","RM","RW"],medium:["CF"],high:["GK","LWB","LB","CB","RB","RWB","CAM","CM","CDM","RM","RW"]}},ST:{name:"Striker",penalties:{low:["CF","LF","RF","CAM"],medium:[],high:["GK","LWB","LB","CB","RB","RWB","LM","LW","CM","CDM","RM","RW"]}},LM:{name:"Left midfielder",penalties:{low:["LW","LF","RM"],medium:["CAM","CM","RW"],high:["GK","LWB","CB","RB","RWB","CF","RF","ST","CDM"]}},LW:{name:"Left wing",penalties:{low:["LF","LM"],medium:["CAM","CM","RM","RW"],high:["GK","LWB","CB","RB","RWB","CF","RF","ST","CDM"]}},CAM:{name:"Centre attacking midfielder",penalties:{low:["ST","CA"],medium:["CM"],high:["GK","LWB","LB","CB","RB","RWB","LF","RF","LM","LW","CDM","RM","RW"]}},CM:{name:"Centre midfielder",penalties:{low:["CAM","CDM"],medium:["CA","LM","RM"],high:["GK","LWB","LB","CB","RB","RWB","LF","RF","ST","LW","RW"]}},CDM:{name:"Centre defensive midfielder",penalties:{low:["CM","CB"],medium:["CM","LM","RM"],high:["GK","LWB","LB","RB","RWB","LF","RF","ST","CA","LW","RW"]}},RM:{name:"Right midfielder",penalties:{low:["RW","RF","LM"],medium:["CAM","CM","LW"],high:["GK","LWB","CB","RB","RWB","CF","LF","ST","CDM"]}},RW:{name:"Right wing",penalties:{low:["RF","RM"],medium:["CAM","CM","LM","LW"],high:["GK","LWB","CB","RB","RWB","CF","LF","ST","CDM"]}}},v=(a(14),function(e){function t(){var e,a;Object(l.a)(this,t);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={selectedPositions:a.initPositions(),rating:0},a.update=function(e){a.setState({selectedPositions:e})},a.calculateRating=function(){var e=0;for(var t in a.state.selectedPositions)if(a.state.selectedPositions.hasOwnProperty(t)&&void 0!==a.state.selectedPositions[t]){var i=a.state.selectedPositions[t].rating,n=g[t].position,s=a.state.selectedPositions[t].position;void 0!==i&&(e+=i*a.getPositionPenalty(n,s))}return Math.floor(e/M.amountOfPositions)},a.getPositionPenalty=function(e,t){var a=e,i=t;if(_.hasOwnProperty(e)){if(Object.values(_[a].penalties.high).indexOf(i)>-1)return M.highPenalty;if(Object.values(_[a].penalties.medium).indexOf(i)>-1)return M.mediumPenalty;if(Object.values(_[a].penalties.low).indexOf(i)>-1)return M.lowPenalty}return M.noPenalty},a.clearAllPositions=function(){a.setState({selectedPositions:a.initPositions()})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initPositions",value:function(){return new Array(M.amountOfPositions).fill(0)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app"},s.a.createElement(B,{selectedPositions:this.state.selectedPositions,update:this.update,getPositionPenalty:function(t,a){return e.getPositionPenalty(t,a)}}),s.a.createElement(u,{rating:this.calculateRating(),clear:function(){return e.clearAllPositions}}))}}]),t}(n.Component));o.a.render(s.a.createElement(v,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(16)}},[[8,2,1]]]);
//# sourceMappingURL=main.f69bec36.chunk.js.map